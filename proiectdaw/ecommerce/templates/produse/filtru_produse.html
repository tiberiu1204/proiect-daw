<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<title>Filtru Produse</title>
</head>

<body>
	<h1>Filtru Produse</h1>

	<!-- Formular pentru filtre -->
	<form method="get">
		<input type="text" name="nume_produs" placeholder="Nume produs" value="{{ request.GET.nume_produs }}">
		<input type="number" step="0.01" name="pret_min" placeholder="Pret minim" value="{{ request.GET.pret_min }}">
		<input type="number" step="0.01" name="pret_max" placeholder="Pret maxim" value="{{ request.GET.pret_max }}">

		<select name="categorie">
			<option value="">Toate categoriile</option>
			{% for categorie in categorii %}
			{% if categorie.id|stringformat:"s" == request.GET.categorie %}
			<option value="{{ categorie.id }}" selected>{{ categorie.nume_categorie }}</option>
			{% else %}
			<option value="{{ categorie.id }}">{{ categorie.nume_categorie }}</option>
			{% endif %}
			{% endfor %}
		</select>


		<button type="submit">Filtreaza</button>
	</form>

	<!-- AfiÈ™are produse -->
	<ul>
		{% for produs in pagina.object_list %}
		<li>{{ produs.nume_produs }} - {{ produs.pret }} RON</li>
		{% endfor %}
	</ul>

	<!-- Paginare -->
	<div>
		<span>Pagina {{ pagina.number }} din {{ pagina.paginator.num_pages }}</span>
	</div>
	<div>
		{% if pagina.has_previous %}
		<a
			href="?{% for key, value in request.GET.items %}{% if key != 'page' %}{{ key }}={{ value }}&{% endif %}{% endfor %}page={{ pagina.previous_page_number }}">Inapoi</a>
		{% endif %}
		{% if pagina.has_next %}
		<a
			href="?{% for key, value in request.GET.items %}{% if key != 'page' %}{{ key }}={{ value }}&{% endif %}{% endfor %}page={{ pagina.next_page_number }}">Inainte</a>
		{% endif %}
	</div>
</body>

</html>
